<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            width: 350px;
            padding: 20px;
            font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0;
            background: linear-gradient(135deg, #FFFFFF 0%, #F9F8F2 100%);
            color: #1E1E1E;
        }
        
        .logo {
            text-align: center;
            margin-bottom: 25px;
            opacity: 0;
            transform: translateY(20px);
            animation: logoAppear 0.8s ease-out 0.2s forwards;
        }
        
        .logo-text {
            font-size: 32px;
            line-height: 1;
            margin-bottom: 8px;
            letter-spacing: -0.8px;
        }
        
        .logo-tutor {
            font-weight: 700;
            color: #1E1E1E;
        }
        
        .logo-tools {
            font-weight: 400;
            color: #3E8D58;
            opacity: 0.9;
        }
        
        .logo-dot {
            font-weight: 700;
            color: #3E8D58;
            display: inline-block;
            animation: dotPulse 2.5s ease-in-out infinite 1.5s;
        }
        
        @keyframes logoAppear {
            0% {
                opacity: 0;
                transform: translateY(20px) scale(0.95);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        @keyframes dotPulse {
            0%, 80%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            40% {
                transform: scale(1.3);
                opacity: 0.7;
            }
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(30,30,30,0.1);
            opacity: 0;
            transform: translateY(15px);
            animation: contentAppear 0.6s ease-out 0.8s forwards;
        }
        
        .extension-name {
            font-size: 16px;
            font-weight: 600;
            color: #1E1E1E;
            margin-bottom: 5px;
        }
        
        .tagline {
            font-size: 11px;
            opacity: 0.7;
            color: #5741D9;
            font-style: italic;
        }
        
        @keyframes contentAppear {
            0% {
                opacity: 0;
                transform: translateY(15px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .method-section {
            background: rgba(183,169,247,0.1);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(87,65,217,0.15);
            opacity: 0;
            transform: translateY(10px);
            animation: contentAppear 0.5s ease-out 1.0s forwards;
        }
        
        .method-title {
            font-weight: 600;
            color: #1E1E1E;
            margin-bottom: 15px;
            font-size: 16px;
        }
        
        .btn {
            background: #3E8D58;
            color: #FFFFFF;
            border: none;
            padding: 15px 20px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin: 5px 0;
            transition: all 0.2s ease;
        }
        
        .btn:hover {
            background: #4D755B;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(62,141,88,0.25);
        }
        
        .instructions {
            font-size: 13px;
            color: rgba(30,30,30,0.7);
            margin-top: 15px;
            line-height: 1.4;
            text-align: center;
        }
        
        .output-section {
            display: none;
            margin-top: 15px;
            opacity: 0;
            transform: translateY(10px);
            animation: contentAppear 0.4s ease-out forwards;
        }
        
        .output-section.show {
            display: block;
        }
        
        .output-box {
            background: #F9F8F2;
            border: 1px solid rgba(30,30,30,0.1);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            white-space: pre-wrap;
            font-size: 14px;
            line-height: 1.4;
            max-height: 200px;
            overflow-y: auto;
            color: #1E1E1E;
        }
        
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 8px;
            font-size: 14px;
            text-align: center;
            backdrop-filter: blur(10px);
        }
        
        .status.info {
            background: rgba(183,169,247,0.15);
            color: #5741D9;
            border: 1px solid rgba(87,65,217,0.2);
        }
        
        .status.success {
            background: rgba(62,141,88,0.15);
            color: #3E8D58;
            border: 1px solid rgba(62,141,88,0.2);
        }
        
        .status.error {
            background: rgba(241,126,106,0.15);
            color: #F17E6A;
            border: 1px solid rgba(241,126,106,0.2);
            white-space: pre-line;
        }
    </style>
</head>
<body>
    <div class="logo">
        <div class="logo-text">
            <span class="logo-tutor">Tutor</span><span class="logo-tools">Tools</span><span class="logo-dot">.</span>
        </div>
    </div>
    
    <div class="header">
        <div class="extension-name">Homework Notes Helper</div>
        <div class="tagline">Turn speech into professional lesson summaries</div>
    </div>
    
    <!-- ASR Mode Selection -->
    <div class="method-section" style="margin-bottom: 10px; padding: 15px;">
        <div class="method-title" style="text-align: center; margin-bottom: 10px;">Speech Recognition Mode</div>
        <div style="display: flex; gap: 8px; margin-bottom: 10px;">
            <label style="flex: 1; display: flex; align-items: center; gap: 5px; font-size: 12px;">
                <input type="radio" name="asrMode" value="cloud" id="cloudASR" checked>
                <span>‚òÅÔ∏è Cloud (Default)</span>
            </label>
            <label style="flex: 1; display: flex; align-items: center; gap: 5px; font-size: 12px;">
                <input type="radio" name="asrMode" value="browser" id="browserASR">
                <span>üñ•Ô∏è Browser</span>
            </label>
        </div>
        <div class="privacy-info" style="font-size: 10px; color: #666; text-align: center; font-style: italic;">
            With 'Cloud ASR' on, short audio snippets are sent securely to our transcription server and processed by OpenAI to produce text. Audio isn't stored by us. Switch to 'Browser' to keep all processing on-device.
        </div>
    </div>

    <!-- Voice Recording Method -->
    <div class="method-section">
        <div class="method-title" style="text-align: center;">Record Your Lesson Summary</div>
        <button id="pageRecordBtn" class="btn">Start Recording</button>
        <button id="tutorialBtn" class="btn" style="background: #3E49A0; color: #FFFFFF; margin-top: 10px;">Watch Tutorial</button>
        <div class="instructions">
            Speak naturally about what happened in the lesson and what the student should practice. The tool removes filler words, fixes grammar, and creates clean text ready for parent communication.
        </div>
    </div>
    
    <!-- Status Display -->
    <div id="status" class="status" style="display: none;"></div>
    
    <!-- Output Section -->
    <div id="outputSection" class="output-section">
        <div id="outputBox" class="output-box"></div>
        <button id="copyBtn" class="btn">Copy Notes</button>
        <button id="newBtn" class="btn" style="background: #3E49A0; color: #FFFFFF; margin-top: 10px;">Create New Recording</button>
    </div>

    <script src="popup.js"></script>
</body>
</html>